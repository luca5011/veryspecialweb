<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>회원가입</title>
<style>
body { display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh; font-family:sans-serif; background:#f0f0f0; }
input { margin:5px 0; padding:10px; width:250px; border-radius:10px; border:1px solid #ccc; }
button { margin:10px 0; padding:10px; width:270px; border:none; border-radius:10px; background:#4a90e2; color:white; cursor:pointer; }
button:active { background:#357ab8; }
</style>
</head>
<body>

<h2>회원가입</h2>
<input type="text" id="id" placeholder="아이디">
<input type="password" id="pw" placeholder="비밀번호">
<input type="text" id="name" placeholder="이름">
<input type="date" id="birth">
<input type="text" id="email" placeholder="이메일">
<button onclick="register()">가입</button>
<button onclick="location.href='login.html'">로그인</button>

<script>
const apiUrl = "https://script.google.com/macros/s/AKfycby7Q-Uz2ARZM70SoL01QmNcFlGW_asapilpmPOko4uRVui_hO4qRzsQrwZiZF1SA14zAw/exec";

async function register() {
    const id = document.getElementById("id").value;
    const pw = document.getElementById("pw").value;
    const name = document.getElementById("name").value;
    const birth = document.getElementById("birth").value;
    const email = document.getElementById("email").value;

    if(!id || !pw || !name || !birth || !email){ alert("모든 항목을 입력하세요."); return; }

    const res = await fetch(apiUrl, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({action:"register", id, pw, name, birth, email})
    });
    const text = await res.text();
    if(text === "OK"){
        alert("가입 완료! 로그인 페이지로 이동합니다.");
        location.href = "login.html";
    } else {
        alert("가입 실패: " + text);
    }
}
</script>
</body>
</html>
